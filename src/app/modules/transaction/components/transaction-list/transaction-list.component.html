<div class="row">
  <div class="col-6">
    <h2 i18n>Transactions</h2>
  </div>
  <div class="col-6 text-right">
    <button
      class="btn btn-primary "
      type="submit"
      [routerLink]="['/transactions/transaction']"
      [disabled]="accounts.length==0"
    >
      New
    </button>
  </div>
</div>
<br />

<div *ngIf="accounts.length==0" class="row">
  <div class="col-sm-5">
    <account-create-card></account-create-card>
  </div>
</div>
<div *ngIf="accounts.length>0&&selectedAccounts.length==0" class="row">
  <div class="col-sm-5">
    <account-select-card></account-select-card>
  </div>
</div>
<div
  *ngIf="accounts.length>0&&selectedAccounts.length>0&&!hasRealTransactions"
  class="row"
>
  <div class="col-sm-5">
    <transaction-create-card></transaction-create-card>
  </div>
  <div class="col-sm-2">
    &nbsp;
  </div>
  <div class="col-sm-5">
    <transactions-import-card></transactions-import-card>
  </div>
</div>

<div class="table-responsive">
<table *ngIf="hasRealTransactions" class="table table-hover">
	<tbody>
		<ng-container *ngFor="let transaction of transactions; let i = index;">
		<!-- header group -->
		<tr *ngIf="transaction.hide!=true && (i==0 || i>0 && transaction.date.getTime()!=transactions[i-1].date.getTime())">
			<th>{{transaction.date | date:'shortDate'}}&nbsp;</th>
			<th class="w-75">&nbsp;</th>
			<th>{{transaction.balanceAfter | dinero}}&nbsp;</th>
		</tr>
		<!-- detail group -->
		<tr *ngIf="transaction.hide!=true" [routerLink]="['/transactions/transaction/'+transaction.account.id+'/'+transaction.id]">
			<td>{{ transaction.category | category }}&nbsp;</td>
			<td>{{ transaction.description }}&nbsp;</td>
			<td>{{transaction | transaction}}&nbsp;</td>
		</tr>
	 	</ng-container>
	</tbody>
	<!-- footer group -->
    <caption>
    	Initial value {{ initialBalance | dinero}}
  	</caption>
</table>
</div>
