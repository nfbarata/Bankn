<h2>{{form.value.id==null?'Create Transaction':'Edit Transaction'}}</h2>
<br>
<form class="container" [formGroup]="form" (ngSubmit)="onSubmit()">

	<div class="row">
		<div class="col-6 form-group">
			<label for="type" i18n>Type</label>
			<select title="type" class="form-control" formControlName="type">
            	<option *ngFor="let type of transactionTypes" [selected]="form.value.type==type" [value]="type">{{type | transactionType}}</option>
        	</select> 
		</div>
		<div class="col-6 form-group">
			<label i18n>Amount</label>
			<input title="amount" class="form-control" id="amount" type="text" formControlName="amount">
	    </div>
	</div>
	<div class="row">
		<div class="col-sm-6 form-group">
			<label for="entity" i18n>Entity</label>
			<input  class="form-control" id="entity" type="text" formControlName="entity">
      	</div>
		<div class="col-sm-6 form-group">
			<label for="accountId" i18n>Account</label>
			<select title="account" class="form-control" formControlName="accountId">
          		<option *ngFor="let account of (accounts==null?[]:accounts)" [selected]="account.id==form.value.accountId" [value]="account.id">{{account.name}}</option>
        	</select>
		</div>
	</div>

	<div class="row">
		<div class="col-sm-6 form-group">
			<label for="name" i18n>Category</label>
			<input title="category" class="form-control" id="category" type="text" formControlName="category">
		</div>
		<div class="col-sm-6 form-group">
			<label i18n>Date</label>
			<div class="row">
				<div class="col-4 form-group">
					<input title="day" class="form-control" id="day" type="text" formControlName="day">
					<small id="dayHelpBlock" class="form-text text-muted" i18n>Day</small>
				</div>
				<div class="col-4 form-group">
					<input title="month" class="form-control" id="month" type="text" formControlName="month">
					<small id="monthHelpBlock" class="form-text text-muted" i18n>Month</small>
				</div>
				<div class="col-4 form-group">
					<input title="year" class="form-control" id="year" type="text" formControlName="year">
					<small id="yearHelpBlock" class="form-text text-muted" i18n>Year</small>
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-sm-6 col-12 form-group">
			<label for="description" i18n>Description</label>
			<textarea class="form-control" id="description" formControlName="description"></textarea>
		</div>
		<div class="col-sm-6 col-6 form-group">
			<label for="receiptReference" i18n>Receipt Reference</label>
			<textarea class="form-control" id="receiptReference" formControlName="receiptReference"></textarea>
		</div>
	</div>

	<button class="btn btn-primary" type="submit" i18n>{{form.value.id==null?'Create':'Ok'}}</button>
	&nbsp;
	<a *ngIf="form.value.id!=null" class="btn btn-danger text-white" role="button"
		(click)="onDelete(form.value.accountId,form.value.id);" i18n>Delete</a>
	&nbsp;
	<button class="btn btn-primary" (click)="onCancel();" i18n>Cancel</button>
</form>